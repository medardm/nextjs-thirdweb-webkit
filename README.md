# Nextjs Thirdweb Webkit

a webkit built using thirdwebs starter template

## Introduction
### Setting up webkit
- install dependencies and run setup script
```shell
yarn
yarn setup
```
## Scripts
- there are useful scripts in `package.json` that can aid in development
- run `yarn scripts` to show available scripts
### Setting up 
- `yarn setup`
  - run migrations and seed prerequisite and test data
### Templates
- Certain libraries like models can be generated through the `make` command.
- `yarn make:help`
  - shows available template commands and description
- For example: `yarn make:model user`
    - create a **user** `model`, `seeder`, `factory` and inserts a new table/model in `schema.prisma`
- #### Database and Prisma
- `yarn prisma:generate`
  - update prisma client with the latest changes in the schema
  - **please run this after updating the schema** to avoid type errors when using models
- `yarn migrate:dev`
  - run database migrations and seed (updating database with changes in schema)
- `yarn migrate:reset`
  - reset database schema and seed
- `yarn db:seed`
  - run/rerun seeders

## Overview
### Directory Structure
- `src`
  - all the application related code.
- `config`
  - application configs that includes the constants
- `database`
  - `factories`
    - code for generating test models ideally with fakerjs
  - `seeders`
    - code for seeding database with test or production data
      - `prod`
      - `dev`
  - `migrations`
    - sql files generated by prisma, can be edited manually for custom changes
- `library`
  - `http`
    - `controllers`
      - for interacting with services and returning data requested by the app
    - `requests`
      - form data or query validations, all data validators per controller exists here
  - `models`
    - for database queries
- `resources`
  - `css`
    - contains all the stylesheets
  - `components`
    - contains the layout files and reusable components
  - `stores`
    - responsible for fetching data from the api and formatting them and storing to local storage
- `pages`: for pages router
- `utils`
  - generic reusable piece of code that can be used anywhere
- `tests`
  - directory for all automated tests
  - `jest`
  - `cypress`

## Coding Guide

### ** Please use a generator (if available) when creating the libraries

### Naming Convention
#### General

- [x] Components should be in `PascalCase`
- [x] Route and directory names should be in `kebab-case`
- [x] Other files should be in `camelCase`

#### Specifics

- [x] **Models**: `[name].model.ts` (e.g. `user.model.ts`)
- [x] **Controllers**: `[name].controller.ts` (e.g. `auth.controller.ts`)
- [x] **Requests**: `[name].request.ts` (e.g. `auth.request.ts`)
- [x] **Tests**: `[name].test.ts` or `[name.category].test.ts` if applicable (e.g. `auth.test.ts`)
- [x] **Seeders**: `[name].seeder.ts` (e.g. `user.seeder.ts`)
- [x] **Factory**: `[name].factory.ts` (e.g. `user.factory.ts`)



### Validation
- Please use request objects for validations (create validator objects in  `src/library/http/requests`). It makes use of the [zod](https://www.npmjs.com/package/zod) package for the rules


[back to top](#nextjs-thirdweb-webkit)
